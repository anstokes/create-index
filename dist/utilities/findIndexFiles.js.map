{"version":3,"file":"findIndexFiles.js","names":["directoryPath","options","fileName","targetDirectories","glob","sync","path","join","_","filter","targetDirectoryPath","validateTargetDirectory","dirname","outputFile","silent","map"],"sources":["../../src/utilities/findIndexFiles.js"],"sourcesContent":["/**\n * @author    Adrian Stokes <adrian@anstech.co.uk>\n * @company   ANSTECH Limited\n * @copyright 2023 ANSTECH Limited\n * @license   None, all rights reserved\n */\n\nimport path from 'path';\nimport _ from 'lodash';\nimport glob from 'glob';\n\nimport validateTargetDirectory from './validateTargetDirectory';\n\nexport default (directoryPath, options = {}) => {\n  let fileName;\n  let targetDirectories;\n\n  fileName = options.fileName || 'index.js';\n  fileName = `./**/${fileName}`;\n\n  targetDirectories = glob.sync(path.join(directoryPath, fileName));\n\n  targetDirectories = _.filter(\n    targetDirectories,\n    (targetDirectoryPath) => validateTargetDirectory(path.dirname(targetDirectoryPath), {\n      outputFile: options.fileName,\n      silent: options.silent,\n    }),\n  );\n\n  targetDirectories = _.map(targetDirectories, path.dirname);\n\n  return targetDirectories;\n};\n"],"mappings":";;;;;;AAOA;AACA;AACA;AAEA;AAAgE;AAXhE;AACA;AACA;AACA;AACA;AACA;AALA,eAae,kBAACA,aAAa,EAAmB;EAAA,IAAjBC,OAAO,uEAAG,CAAC,CAAC;EACzC,IAAIC,QAAQ;EACZ,IAAIC,iBAAiB;EAErBD,QAAQ,GAAGD,OAAO,CAACC,QAAQ,IAAI,UAAU;EACzCA,QAAQ,GAAI,QAAOA,QAAS,EAAC;EAE7BC,iBAAiB,GAAGC,aAAI,CAACC,IAAI,CAACC,aAAI,CAACC,IAAI,CAACP,aAAa,EAAEE,QAAQ,CAAC,CAAC;EAEjEC,iBAAiB,GAAGK,eAAC,CAACC,MAAM,CAC1BN,iBAAiB,EAChBO,mBAAmB,IAAK,IAAAC,gCAAuB,EAACL,aAAI,CAACM,OAAO,CAACF,mBAAmB,CAAC,EAAE;IAClFG,UAAU,EAAEZ,OAAO,CAACC,QAAQ;IAC5BY,MAAM,EAAEb,OAAO,CAACa;EAClB,CAAC,CAAC,CACH;EAEDX,iBAAiB,GAAGK,eAAC,CAACO,GAAG,CAACZ,iBAAiB,EAAEG,aAAI,CAACM,OAAO,CAAC;EAE1D,OAAOT,iBAAiB;AAC1B,CAAC;AAAA"}